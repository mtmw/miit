<!DOCTYPE HTML>

<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>mode</title>
	<script type="text/javascript" src="../SyntaxHighlighter/scripts/shCore.js"></script>
	<script type="text/javascript" src="../SyntaxHighlighter/scripts/shBrushBash.js"></script>
	<script type="text/javascript" src="../SyntaxHighlighter/scripts/shBrushCpp.js"></script>
	<script type="text/javascript" src="../SyntaxHighlighter/scripts/shBrushCss.js"></script>
	<script type="text/javascript" src="../SyntaxHighlighter/scripts/shBrushJava.js"></script>
	<script type="text/javascript" src="../SyntaxHighlighter/scripts/shBrushJScript.js"></script>
	<script type="text/javascript" src="../SyntaxHighlighter/scripts/shBrushXml.js"></script>
	<link type="text/css" rel="stylesheet" href="../SyntaxHighlighter/styles/shCore.css"/>
	<link type="text/css" rel="stylesheet" href="../SyntaxHighlighter/styles/shThemeDefault.css"/>
	<link rel="stylesheet" type="text/css" href="../css/layout.css" />   <!--链接到一个CSS外部样式表布局layout-->
	<script type="text/javascript">
		SyntaxHighlighter.config.clipboardSwf = '../SyntaxHighlighter/scripts/clipboard.swf';
		SyntaxHighlighter.all();
	</script>
</head>

<body >
<h2>mode</h2>20150716
<br />
bootloader什么意思
<br />
bootloader模式中文名称：系统启动加载器
<br />
bootloader模式主要功能，在开机进入系统之前，加载某些硬件初始化程序，启动系统进程
<br />
BootLoader就是在操作系统内核运行之前运行的一段小程序。通过这段小程序，我们可以初始化硬件设备
<br />
进入BOOTLOADER模式：首先将手机关机,按电源键和音量键的组合进入.
<br />
<br />
Recovery：翻译过来的意思就是恢复，这是手机上的一个恢复模式。
<br />
进入RECOVERY模式/恢复模式：进入BOOTLOADER模式后，根据提示按动音量键选择进入RECOVERY模式，用电源键确认。
<br />
recovery 像是电脑上的小型winPE系统
<pre class='brush: bash'>
adb reboot Bootloader

adb reboot recovery                #  samsung recovery mode     Vol Up + Home + Power.

adb reboot download                #  samsung download mode     Vol Down + Home + Power 挖煤模式
</pre>
<br />
<br />
Fastboot是一个特殊的工程模式，通过fastboot界面，连接电脑后，我们可以在电脑端通过特殊的指令来操作手机，
<br />
例如更新radio（手机的通讯驱动），就可以通过fastboot来完成。fastboot的级别又要比recovery来的要高一些，
<br />
可以完成更底层的一些操作。  例如在fastboot 模式下刷入recovery 。
<br />
许多手机官方的升级和恢复方法是在比recovery 更底层的模式下（fastboot / bootloader / update......）操作完成的，
<br />
就是即使手机已经无法开机，无法进入recovery ，都能进行官方的升级或者恢复！
<br />
<br />
Google Nexus系列在默认情况下fastboot是锁住的，通过如下命令解锁或重新上锁：
<br />
<pre class='brush: bash'>
fastboot oem unlock        #解锁
fastboot oem lock          #上锁
</pre>
在升级系统后，可能会存在旧数据和新系统不兼容的问题，解决方法如下：
<pre class='brush: bash'>
fastboot erase cache       #清除缓存
fastboot erase userdata    #清除用户数据
</pre>
<br />
<pre class='brush: bash'>
apply update from ADB
adb sideload update.zip        #  通过开发计算机把刷机包发送给recovery 其实还是recovery来刷 不用再把刷机包copy到内置储存里而已
</pre>
<pre class='brush: bash'>
</pre>
<br />
<br />
<br />
<br />
Doorbell
<br />
主板上串口顺序: 3V3,GND,TX,RX  波特率 115200
<br />
对应USB串口线顺序:红,黑,白RX,绿TX
<br />
RXD Receive Data 为接收数据的引脚
<br />
TXD Transmit Data 为发送数据的引脚
<br />
门铃上电后立即按任意键进入u-boot模式
<br />
<br />
<pre class='brush: bash'>
printenv                           # 显示当前环境变量 如果不匹配请做修改
setenv ipaddr 192.168.4.130        # 设置门铃设备的IP 依开发计算机的网段来设置
setenv serverip 192.168.4.7        # 设置tftp服务器(即开发计算机)IP 网段为192.168.4.xxx    ipconfig /all 内网IP查询
ping 192.168.4.7                   # ping开发计算机的IP 以测试门铃设备的网络有没有alive
# host 192.168.4.7 is alive
</pre>
启动 tftpd32.exe,单击 Browse 选择 img 文件的路径 
<pre class='brush: bash'>
mw.b 0x82000000 0xff 0x1000000                                     # 恢复16M
tftp 0x82000000 Hi351x-16M-ipc4206p-bell.img                       # FTP下载img固件到DDR  .sw是web升级文件
sf probe 0;sf erase 0 0x1000000;sf write 0x82000000 0x0 0x1000000;   # 擦写FLASH
re                                                                 # reset

# 如果有多条命令要写到一行，中间可以用冒号(;)隔开，冒号前后不必空格
</pre>
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />

</html>
